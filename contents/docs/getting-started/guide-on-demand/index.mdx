---
title: Catopay API Documentation
description: Welcome to the updated Catopay API documentation. Follow these steps to seamlessly integrate Catopay's payment services into your application.
---

### 1. Prepare Your Catopay API Key

First, generate your API key from the dashboard:

- Log in to your Catopay Dashboard.
- Navigate to the **API Keys** tab.
- Click **Generate** to create an API key.
- Use this API key for authenticating all API requests.

---

### 2. Fetch All Payment Methods

Fetch the available payment methods using a GET request, which will be required when creating a payment.

**Endpoint:**  
`GET https://api.catopay.com/api/v1/payment/methods`

**Sample Code (Using Axios):**

<Tabs defaultValue="js" className="pt-5 pb-1">
  <TabsList className="">
    <TabsTrigger value="js">Javascript</TabsTrigger>
  </TabsList>
  <TabsContent value="js">
```js showLineNumbers
const axios = require("axios");
const apiEndpoint = "https://api.catopay.com/api/v1/payment/create";

const response = await axios.get(
  apiEndpoint,
    {
    headers: {
      "Content-Type": "application/json",
      "x-api-key": APIKEY, // Replace APIKEY with your actual API key
    },
  }
);
console.log(response.data); // List of available payment methods

```
  </TabsContent>
</Tabs>

---

### 3. Create a Payment Request

To create a payment, use the following POST endpoint. You can also include the optional `note` field for additional transaction details.

**Endpoint:**
`POST https://api.catopay.com/api/v1/payment/create`

**Request Payload:**

<Tabs defaultValue="js" className="pt-5 pb-1">
  <TabsList className="">
    <TabsTrigger value="js">Javascript</TabsTrigger>
  </TabsList>
  <TabsContent value="js">
```javascript showLineNumbers
  const axios = require("axios");
  const apiEndpoint = "https://api.catopay.com/api/v1/payment/create";

  const response = await axios.post(
    apiEndpoint,
    {
      amount: 100, // Amount to be charged
      description: "Payment for services", // Description of the transaction
      redirect_url: "https://your-domain/payment_endpoint", // Your custom redirect URL
      callback_url: "__your__callback__endpoint__", // Your server's callback URL
      paymentMethodId: "__select__from__fetched__payment__methods__", // ID from fetched methods
      note: "This is a custom note for the payment", // Optional note about the transaction
    },
    {
      headers: {
        "Content-Type": "application/json",
        "x-api-key": "__your__api__key__", // Replace with your actual API key
      },
    }
  );

  console.log(response.data); // Response will contain payment details including payment_url
```
  </TabsContent>
</Tabs>



---

### 4. Redirect User to Payment URL

After creating the payment request, the API will return a `payment_url` in the response. Redirect the user to this URL to complete the payment.

**Example:**

```javascript
window.location.href = response.data.payment_url; // Redirect to the payment page
```

---

### 5. Handle Redirect and Callback URLs

After the user completes the payment:

- **Redirect to `redirect_url`**: After the payment, the user will be redirected to your specified `redirect_url`.
- **Server-to-Server Callback to `callback_url`**: Catopay will send a server-to-server request to your callback URL with details about the transaction.

**Callback Example:**

Once the payment is confirmed, Catopay will send the following parameters to your callback URL:

```
callback_url + `?transactionId=${transactionId}&status=${status}&note=${note}`
```

- `transactionId`: The unique identifier of the transaction.
- `status`: The current status of the transaction (e.g., success, pending, failed).
- `note`: The note provided during payment creation, if any.

**Example URL:**

```
https://your-server.com/payment_callback?transactionId=12345&status=success&note=Custom%20Note
```

---

### Key Points

- Ensure that your **API key** is securely stored.
- The `redirect_url` and `callback_url` parameters are optional but must be valid if used.
- The `note` field allows you to add custom information related to the transaction.
- Handle the callback to update the transaction status in your system effectively.

---

For more advanced use cases, visit the [Catopay developer portal](https://pgw.catopay.com/dashboard/api-keys).


ðŸ’– Thanks for being with us! 
